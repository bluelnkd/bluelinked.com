

<!DOCTYPE html>

<head>
    <!-- Add meta tags for mobile and IE -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
</head>

<body>
    <p>1. Hit <a target="_blank" href="https://www.hermesnodeweb51111.qa.paypal.com">hermesnodeweb51111.qa.paypal.com</a> and allow any ssl excepction. Then refresh this page.</p>
    
    <p>2. Enter a custom EC token for managed stage (optional) <input id="ec_token" placeholder="EC Token / Order ID" style="font-size: 14px; padding: 4px 8px; width: 200px;" /></p>
    
    <p>3. Click a button and complete a transaction</p>
    
    <p>
        <!-- Set up a container element for the button -->
        <div id="paypal-button-container"></div>
    </p>

    <!-- Include the PayPal JavaScript SDK -->
    <script src='https://www.paypalobjects.com/api/checkout.js' data-env="stage" data-stage="hermesnodeweb51111"></script>

    <script>
        // Render the PayPal button into #paypal-button-container
        paypal.Button.render({
            
            client: {
                stage: 'alc_client1'
            },
            
            updateClientConfiguration: true,
            
            style: {
                layout: 'vertical'
            },

            // Set up the transaction
            payment: function(data, actions) {
                const token = document.querySelector('#ec_token').value;
                
                if (token) {
                    return token;
                }
                
                return actions.order.create({
                    order: {
                        purchase_units: [{
                            amount: {
                                currency_code: 'USD',
                                value: '0.01'
                            }
                        }]
                    }
                });
            },

            // Finalize the transaction
            onAuthorize: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    // Show a success message to the buyer
                    alert('Transaction completed by ' + details.payer.name.given_name + '!');
                });
            }


        }, '#paypal-button-container');
    </script>
</body>
